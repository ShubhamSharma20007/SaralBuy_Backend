import{j as e,D as fe,a as ye,b as Ne,c as ve,S as v,d as w,e as P,f as B,g as l,I as h,B as x,h as M,u as we,i as Pe,k as y,p as Be,l as S,m as Ce,r as i,n as De,o as _e,q as Se,t as u,C as Te,A as Ae,s as Ie,v as Oe,w as Fe,H as Ve,x as se,y as ae,z,E as re,P as te,F as ze,G as Re,L as d,J as N,K as T,M as Me,T as ke}from"./index-iI9JcYnt.js";import{c as le}from"./currencyConvertor-IA5kyJ7b.js";const Ze=({open:o,setOpen:C,setValue:g,value:n,handleCreteBid:k,createBidLoading:r,setBusinessDets:j,businessDets:p})=>e.jsx(e.Fragment,{children:e.jsx(fe,{open:o,onOpenChange:C,children:e.jsx(ye,{className:"w-4xs",children:e.jsxs("form",{onSubmit:c=>{c.preventDefault(),k()},className:"p-2 max-w-md inline-block space-y-5 ",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ne,{className:" text-black text-3xl font-extrabold ",children:"Seller Verification"}),e.jsx(ve,{className:" text-sm text-gray-600",children:" Placing Quote as an Individual or Business Owner?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(v,{onValueChange:c=>g?.(c),value:n,children:[e.jsx(w,{id:"userType",className:"w-full py-5 rounded-md border border-gray-300",children:e.jsx(P,{placeholder:"Select"})}),e.jsxs(B,{children:[e.jsx(l,{value:"individual",className:"dropdown-hover py-2",children:"Individual"}),e.jsx(l,{value:"business",className:"dropdown-hover py-2",children:"Business Owner"})]})]}),n==="business"&&e.jsxs("div",{className:"grid space-y-2 mt-4",children:[e.jsx(h,{value:p.company_name,onChange:c=>{j({...p,company_name:c.target.value})},className:"w-full py-5 rounded-md border border-gray-300",name:"company_name",placeholder:"Company Name"}),e.jsx(h,{value:p.company_reg_num,onChange:c=>{j({...p,company_reg_num:c.target.value})},className:"w-full py-5 rounded-md border border-gray-300",name:"company_reg_num",placeholder:"Company Reg. Number"}),e.jsx(h,{value:p.gst_num,onChange:c=>{j({...p,gst_num:c.target.value})},className:"w-full py-5 rounded-md border border-gray-300",name:"gst_num",placeholder:"GSTIN Number"})]}),e.jsx(x,{disabled:!n||r,type:"submit",className:"w-full rounded-sm py-5  text-white font-bold cursor-pointer",children:r?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Place Quote"})]})]})})})});function R(o){return o?.brand==="others"&&o.hasOwnProperty("brandName")?o.brandName:o?.brand}const qe=()=>{const[o]=we(),C=o.get("productId"),g=o.get("bidId"),n=Pe(),{fn:k,data:r,setData:j,loading:p}=y(Be.getProductById),{fn:c,data:s,loading:ne}=y(S.bidOverViewbyId),{fn:ie,data:q,loading:U}=y(S.updateUserBidDets),{fn:ce,data:Z,loading:G}=y(S.getbidByProductId),{fn:de,data:Y,loading:H}=y(S.createBid),{fn:oe,data:b,loading:A}=y(Ce.addToCart),[me,J]=i.useState(!1),[ue,I]=i.useState(!1),[D,L]=i.useState(""),[Q,pe]=i.useState({company_name:"",company_reg_num:"",gst_num:""}),K=De(),{handleSubmit:xe,formState:{errors:E},register:_,reset:O,control:f,getValues:F,setValue:Le}=_e({resolver:Se(Re),defaultValues:{firstName:"",lastName:"",budgetQuation:"",earliestDeliveryDate:void 0,sellerType:"",priceBasis:"",taxes:"",location:"",freightTerms:"",paymentTerms:"",buyerNote:""}}),W=async a=>{await oe(a)};i.useEffect(()=>{b&&(b&&(b?.message).match(/already/)!==null?u.warning(b.message):u.success(b.message))},[b]),i.useEffect(()=>{C?k(C):g?c(g):u.error("Invalid request")},[C,g]),i.useEffect(()=>{if(r&&Array.isArray(r)){const a=r[0],t=a?.subProducts?.length>0?a.subProducts:[a];j({...a,products:t}),console.log(r)}},[r]);async function he(){if(!r||r?.mainProduct?.userId?._id===n?.user?._id)return;if(F(),D==="business"&&!Q.company_name.trim()){u.error("company name is required");return}const a=r?.mainProduct.userId?._id,t=r?.mainProduct._id,m=n?.user._id,V=Number(F().budgetQuation)||0;let je={...F(),status:"active",businessType:D,...D==="business"&&{businessDets:Q}};D||(u.error("business is required !"),I(!0));try{await Promise.all([de(a,t,je),S.createRequirement({productId:t,sellerId:m,buyerId:a,budgetAmount:V})])}catch(be){console.log(be),u.error("Failed to place Quote")}}async function ge(a){const t=n?.user,m=F();if(!t?._id)return localStorage.setItem("preLoginBidForm",JSON.stringify(m)),J(!0);if(!r&&!s)return console.log("product && Quote not found in frontend");r?I(!0):await ie(g,a)}i.useEffect(()=>{q&&(u.success("Quote updated successfully"),L(""))},[q]),i.useEffect(()=>{Y&&(r?.mainProduct?j(a=>{const t={...a.mainProduct,totalBidCount:a.mainProduct.totalBidCount+1},m=a.subProducts?.map(V=>({...V,totalBidCount:(V.totalBidCount||0)+1}));return{...a,mainProduct:t,subProducts:m,products:m}}):console.log("main product is missing to update bid count"),u.success("Quote created successfully"),I(!1),L(""),O({firstName:n.user.firstName,lastName:n.user.lastName,budgetQuation:"",earliestDeliveryDate:void 0,taxes:"",buyerNote:"",freightTerms:"",location:"",paymentTerms:"",priceBasis:"",sellerType:""}))},[Y]),i.useEffect(()=>{if(n?.user){const a=localStorage.getItem("preLoginBidForm");if(a){const t=JSON.parse(a);O({...t,firstName:s?s?.seller?.firstName:n.user.firstName,lastName:s?s?.seller?.lastName:n.user.lastName}),localStorage.removeItem("preLoginBidForm")}else O({firstName:s?s?.seller?.firstName:n.user.firstName,lastName:s?s?.seller?.lastName:n.user.lastName,budgetQuation:s?s?.budgetQuation:"",earliestDeliveryDate:s?s?.earliestDeliveryDate:void 0,sellerType:s?s?.sellerType:"",priceBasis:s?s?.priceBasis:"",taxes:s?s?.taxes:"",location:s?s?.location:"",freightTerms:s?s?.freightTerms:"",paymentTerms:s?s?.paymentTerms:"",buyerNote:s?s?.buyerNote:""})}},[n,O,s]),i.useEffect(()=>{},[]),i.useEffect(()=>{for(let a=0;a<Object.entries(E).length;a++){u.error(Object.entries(E)[a][1]?.message);break}},[E]);const $=a=>{const t=document.createElement("a");t.href=a,t.download=a.split("/").pop()||"document",t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},X=async a=>{await ce(a)};i.useEffect(()=>{if(Z){const{_id:a}=Z;K("/bid-overview/"+a)}},[Z]);const ee=()=>e.jsxs("form",{className:"lg:col-span-5 bg-gray-200/80 rounded-lg p-6 space-y-4",onSubmit:xe(ge),children:[e.jsx("h3",{className:"font-semibold text-orange-600",children:"Seller Quotation Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n?.user?._id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"firstName",className:"mb-2 text-sm",children:"First Name"}),e.jsx(h,{disabled:!0,type:"text",placeholder:"First Name",id:"firstName",..._("firstName"),className:"bg-white  select-none"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"lastName",className:"mb-2 text-sm",children:"Last Name"}),e.jsx(h,{disabled:!0,type:"text",placeholder:"Last Name",id:"lastName",..._("lastName"),className:"bg-white  select-none"})]})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Seller Type"}),e.jsx(N,{name:"sellerType",control:f,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Seller Type"})}),e.jsx(B,{children:e.jsxs(T,{children:[e.jsx(l,{value:"manufacturer",children:"Manufacturer"}),e.jsx(l,{value:"trader_wholesaler",children:"Trader / Wholesaler"}),e.jsx(l,{value:"distributor",children:"Distributor"}),e.jsx(l,{value:"service_provider",children:"Service Provider"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Quoted Price(â‚¹)"}),e.jsx(h,{type:"number",placeholder:"Quoted Price",className:"bg-white",..._("budgetQuation")})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Price Basis"}),e.jsx(N,{name:"priceBasis",control:f,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Price Basis"})}),e.jsx(B,{children:e.jsxs(T,{children:[e.jsx(l,{value:"per_unit",children:"Per Unit"}),e.jsx(l,{value:"per_kg",children:"Per Kg"}),e.jsx(l,{value:"per_lot",children:"Per Lot"}),e.jsx(l,{value:"per_piece",children:"Per Piece"}),e.jsx(l,{value:"per_service",children:"Per Service"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Taxes"}),e.jsx(N,{name:"taxes",control:f,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Taxes"})}),e.jsx(B,{children:e.jsxs(T,{children:[e.jsx(l,{value:"inclusive_gst",children:"Inclusive of GST"}),e.jsx(l,{value:"exclusive_gst",children:"Exclusive of GST"}),e.jsx(l,{value:"gst_rate",children:"GST Rate (%)"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Location"}),e.jsx(h,{type:"text",placeholder:"Location",className:"bg-white",..._("location")})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Delivery Timeline"}),e.jsx(N,{control:f,name:"earliestDeliveryDate",render:({field:a})=>e.jsx(Me,{disabledBeforeDate:new Date(new Date().getTime()),date:a.value,title:"DD-MM-YYYY",className:"w-full",setDate:t=>a.onChange(t)})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Freight Terms"}),e.jsx(N,{name:"freightTerms",control:f,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Freight Terms"})}),e.jsx(B,{children:e.jsxs(T,{children:[e.jsx(l,{value:"ex_works",children:"Ex-Works"}),e.jsx(l,{value:"fob",children:"FOB"}),e.jsx(l,{value:"delivered",children:"Delivered (DAP / DDP)"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Payment Terms"}),e.jsx(N,{name:"paymentTerms",control:f,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Payment Terms"})}),e.jsx(B,{children:e.jsxs(T,{children:[e.jsx(l,{value:"advance",children:"Advance"}),e.jsx(l,{value:"partial_advance",children:"Partial Advance"}),e.jsx(l,{value:"on_delivery",children:"On Delivery"}),e.jsx(l,{value:"credit",children:"Credit (X days)"})]})})]})})]}),e.jsxs("div",{className:"w-full col-span-2",children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Buyer Note"}),e.jsx(ke,{..._("buyerNote"),placeholder:"Short message (hard limit: 300 characters)",className:"bg-white w-full"})]})]}),s?e.jsx(x,{type:"submit",disabled:U,variant:"ghost",className:"w-32 float-end border shadow-orange-500 border-orange-500 bg-orange-600  transition-all ease-in-out duration-300 hover:bg-orange-500 text-white hover:text-white cursor-pointer",children:U?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Update Bid"}):e.jsx(x,{type:"submit",disabled:r?.mainProduct?.userId?._id===n?.user?._id||H,variant:"ghost",className:"w-32 float-end border text-xs bg-orange-700  transition-all ease-in-out duration-300 hover:bg-orange-600 text-white hover:text-white cursor-pointer",children:"Place Quote"}),e.jsx("div",{})]});return e.jsx(e.Fragment,{children:ne||p?e.jsx("div",{className:"max-w-7xl mx-auto p-4 ",children:e.jsx(Te,{})}):e.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 min-h-screen",children:[e.jsx(Ae,{setOpen:J,open:me}),e.jsx(Ze,{businessDets:Q,setBusinessDets:pe,setOpen:I,open:ue,setValue:L,value:D,handleCreteBid:he,createBidLoading:H}),e.jsx(Ie,{className:"hidden sm:block",children:e.jsx(Oe,{children:e.jsxs(Fe,{className:"flex items-center gap-2 cursor-pointer ",onClick:()=>K(-1),children:[e.jsx(Ve,{className:"h-4 w-4"}),e.jsx(se,{}),e.jsx(ae,{className:"capitalize font-regular text-gray-500",children:"Product"}),e.jsx(se,{}),e.jsx(ae,{className:"capitalize font-regular text-gray-500",children:s?s?.product?.title:r?.mainProduct?.title})]})})}),r?.subProducts?.length===0||s?e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-4 bg-gray-100 flex justify-center items-center rounded-lg p-4 max-h-64 ",children:e.jsx("img",{src:(s?s?.product?.image:r?.mainProduct?.image)||"/no-image.webp",alt:"Product",className:"object-contain h-full w-full mix-blend-darken"})}),e.jsxs("div",{className:"lg:col-span-8 bg-transparent rounded-lg p-4 space-y-4",children:[e.jsxs("h2",{className:"text-sm font-medium mb-2",children:["Date : ",z(s?s?.product?.createdAt:r?.mainProduct?.createdAt)]}),e.jsx("h2",{className:"text-xl font-bold capitalize",children:s?s?.product?.title:r?.mainProduct?.title}),e.jsx("p",{className:"text-sm text-gray-600",children:r?.mainProduct?.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 pr-3 border-r-2 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})}),e.jsx("span",{className:"capitalize",children:re(s?s?.buyer:r?.mainProduct?.userId)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1  pr-3 border-r-2 py-1 min-w-32   max-w-[50%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),e.jsx("span",{className:" line-clamp-2",children:s?s?.buyer?.address:r?.mainProduct?.userId?.address||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),e.jsxs("span",{className:"capitalize",children:[s?s?.product?.quantity:r?.mainProduct?.quantity||"N/A"," units"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-5 ",children:[e.jsxs(x,{disabled:G||(s?s.product?.totalBidCount:r?.mainProduct?.totalBidCount)===0,onClick:()=>X(s?s?.product?._id:r?.mainProduct?._id),variant:"outline",className:"min-w-32 text-sm border-gray-400 bg-transparent border-[2px] flex items-center gap-2 hover:bg-transparent  cursor-pointer",children:[e.jsx("img",{src:"/icons/Layer_1.png",className:"w-4 h-4 "}),"Total Quote :",e.jsx("span",{className:"font-semibold",children:s?s.product?.totalBidCount:r?.mainProduct?.totalBidCount||0})]}),!s&&e.jsx(x,{className:"min-w-32 border-[2px] border-orange-500 text-orange-500 hover:bg-orange-600 hover:text-white transition-all ease-in-out duration-300 cursor-pointer",variant:"outline",onClick:()=>W(r?.mainProduct?._id),disabled:A||r?.mainProduct?.userId?._id===n?.user?._id,children:A?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Add to Cart"})]})]})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-12 gap-6 ",children:[e.jsxs("div",{className:"lg:col-span-7  rounded-lg p-6 space-y-3 ",children:[e.jsx("h3",{className:"font-semibold text-orange-600 text-xl",children:"Requirement Specifications"}),e.jsxs("div",{className:"text-sm space-y-2 text-gray-600 ",children:[e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Product Condition:"})," ",(s?s?.product?.subCategory?.name:r?.mainProduct?.categoryId?.categoryName)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Brand:"})," ",R(s?s?.product:r?.mainProduct)||"N/A"]}),r?.mainProduct?.categoryId?.categoryName==="industrial"&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Construction Tool Type:"})," Industrial Tool"]}),(s?.product?.minimumBudget||r?.mainProduct?.minimumBudget)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Budget:"})," ",le(s?s?.product?.minimumBudget:r?.mainProduct?.minimumBudget)]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Required Delivery Date:"})," ",z(s?s?.product?.paymentAndDelivery?.ex_deliveryDate:r?.mainProduct?.paymentAndDelivery?.ex_deliveryDate)||"N/A"]}),(s?s?.product?.color:r?.mainProduct?.color)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Color:"})," ",(s?s?.product?.color:r?.mainProduct?.color)||"N/A"]}),(s?s?.product?.typeOfVehicle:r?.mainProduct?.typeOfVehicle)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Vehicle:"})," ",(s?s?.product?.typeOfVehicle:r?.mainProduct?.typeOfVehicle)||"N/A"]}),(s?s?.product?.typeOfProduct:r?.mainProduct?.typeOfProduct)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Product:"})," ",(s?s?.product?.typeOfProduct:r?.mainProduct?.typeOfProduct)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Payment Mode:"})," ",(s?s?.product?.paymentAndDelivery?.paymentMode:r?.mainProduct?.paymentAndDelivery?.paymentMode)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2  ",children:[e.jsx("span",{className:"font-semibold",children:"Supporting Documents:"}),r?.mainProduct?.document||s?.product?.document?e.jsxs("p",{onClick:()=>$(r?.mainProduct?.document||s?.product?.document),className:"flex gap-1 items-center hover:underline cursor-pointer",children:[e.jsx(te,{className:"w-4 h-4 text-orange-600"}),"Download Document"]}):"N/A"]})]})]}),e.jsx(ee,{})]})]}):r?.subProducts&&r?.subProducts.map((a,t)=>{const m=t===r?.subProducts?.length-1;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-4 bg-gray-100 flex justify-center items-center rounded-lg p-4 max-h-64 ",children:e.jsx("img",{src:(s?s?.product?.image:a?.image)||"/no-image.webp",alt:"Product",className:"object-contain h-full w-full mix-blend-darken"})}),e.jsxs("div",{className:"lg:col-span-8 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-sm font-medium mb-2",children:["Date : ",z(s?s?.product?.createdAt:a?.createdAt)]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(ze,{className:"w-5 h-5 text-orange-500"}),e.jsxs("p",{className:"text-gray-500 text-sm font-semibold",children:["Product (",t+1,")"]})]})]}),e.jsx("h2",{className:"text-xl font-bold capitalize",children:s?s?.product?.title:a?.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a?.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 pr-3 border-r-2 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})}),e.jsx("span",{className:"capitalize",children:re(s?s?.buyer:a?.userId)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1  pr-3 border-r-2 py-1 min-w-32   max-w-[50%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),e.jsx("span",{className:" line-clamp-2",children:s?s?.buyer?.address:a?.userId?.address||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),e.jsxs("span",{className:"capitalize",children:[s?s?.product?.quantity:a?.quantity||"N/A"," units"]})]})]}),t===0&&e.jsxs("div",{className:"flex items-center gap-4 mt-5 ",children:[e.jsxs(x,{disabled:G||(s?s.product?.totalBidCount:a?.totalBidCount)===0,onClick:()=>X(s?s?.product?._id:a?._id),variant:"outline",className:"min-w-32 text-sm border-gray-400 bg-transparent border-[2px] flex items-center gap-2 hover:bg-transparent  cursor-pointer ",children:[e.jsx("img",{src:"/icons/Layer_1.png",className:"w-4 h-4 "}),"Total Quote :",e.jsx("span",{className:"font-semibold",children:s?s.product?.totalBidCount:a?.totalBidCount||0})]}),!s&&e.jsx(x,{className:"min-w-32 border-[2px] border-orange-500 text-orange-500 hover:bg-orange-600 hover:text-white transition-all ease-in-out duration-300 cursor-pointer",variant:"outline",onClick:()=>W(a?._id),disabled:A||a?.userId?._id===n?.user?._id,children:A?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Add to Cart"})]})]})]}),e.jsxs("div",{className:`mt-5 grid grid-cols-1 lg:${m?"grid-cols-12":"grid-cols-1"} gap-6`,children:[e.jsxs("div",{className:`grid lg:${m?"col-span-7":"col-span-1"}  rounded-lg  space-y-3 `,children:[e.jsx("h3",{className:"font-semibold text-orange-600 text-xl",children:"Requirement Specifications"}),e.jsxs("div",{className:"text-sm space-y-2 text-gray-600 ",children:[e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Product Condition:"})," ",(s?s?.product?.subCategory?.name:a?.categoryId?.categoryName)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Brand:"})," ",R(s?s?.product:a)||"N/A"]}),a?.categoryId?.categoryName==="industrial"&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Construction Tool Type:"})," Industrial Tool"]}),(s?.product?.minimumBudget||a?.minimumBudget)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Budget:"})," ",le(s?s?.product?.minimumBudget:a?.minimumBudget)]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Required Delivery Date:"})," ",z(s?s?.product?.paymentAndDelivery?.ex_deliveryDate:a?.paymentAndDelivery?.ex_deliveryDate)||"N/A"]}),(s?s?.product?.color:a?.color)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Color:"})," ",(s?s?.product?.color:a?.color)||"N/A"]}),(s?s?.product?.typeOfVehicle:a?.typeOfVehicle)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Vehicle:"})," ",(s?s?.product?.typeOfVehicle:a?.typeOfVehicle)||"N/A"]}),(s?s?.product?.typeOfProduct:a?.typeOfProduct)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Product:"})," ",(s?s?.product?.typeOfProduct:a?.typeOfProduct)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Payment Mode:"})," ",s?s?.product?.paymentAndDelivery?.paymentMode:a?.paymentAndDelivery?.paymentMode||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2  ",children:[e.jsx("span",{className:"font-semibold",children:"Supporting Documents:"}),a?.document||s?.product?.document?e.jsxs("span",{onClick:()=>{$(a?.document||s?.product?.document)},className:"flex gap-1 items-center hover:underline cursor-pointer",children:[e.jsx(te,{className:"w-4 h-4 text-orange-600"})," ",a?.document||s?.product?.document]}):"N/A"]})]})]}),t===r?.products?.length-1&&e.jsx(ee,{})]}),r?.subProducts.length>-1&&t<r?.subProducts.length-1&&e.jsx("div",{className:"bg-gray-400 w-full h-[2px] my-5"})]})})]})})};export{qe as default};
