import{n as q,r as f,j as m,w as F,P as L,ah as M,aT as A}from"./index-nRz7PDd4.js";var h={exports:{}},x={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w;function P(){if(w)return x;w=1;var e=q();function r(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var s=typeof Object.is=="function"?Object.is:r,n=e.useState,u=e.useEffect,t=e.useLayoutEffect,l=e.useDebugValue;function i(a,o){var S=o(),g=n({inst:{value:S,getSnapshot:o}}),d=g[0].inst,E=g[1];return t(function(){d.value=S,d.getSnapshot=o,c(d)&&E({inst:d})},[a,S,o]),u(function(){return c(d)&&E({inst:d}),a(function(){c(d)&&E({inst:d})})},[a]),l(S),S}function c(a){var o=a.getSnapshot;a=a.value;try{var S=o();return!s(a,S)}catch{return!0}}function v(a,o){return o()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:i;return x.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,x}var R;function T(){return R||(R=1,h.exports=P()),h.exports}var U=T();function V(){return U.useSyncExternalStore(D,()=>!0,()=>!1)}function D(){return()=>{}}var y="Avatar",[G,K]=F(y),[H,_]=G(y),b=f.forwardRef((e,r)=>{const{__scopeAvatar:s,...n}=e,[u,t]=f.useState("idle");return m.jsx(H,{scope:s,imageLoadingStatus:u,onImageLoadingStatusChange:t,children:m.jsx(L.span,{...n,ref:r})})});b.displayName=y;var C="AvatarImage",j=f.forwardRef((e,r)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:u=()=>{},...t}=e,l=_(C,s),i=$(n,t),c=M(v=>{u(v),l.onImageLoadingStatusChange(v)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?m.jsx(L.img,{...t,ref:r,src:n}):null});j.displayName=C;var k="AvatarFallback",N=f.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:n,...u}=e,t=_(k,s),[l,i]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&t.imageLoadingStatus!=="loaded"?m.jsx(L.span,{...u,ref:r}):null});N.displayName=k;function I(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $(e,{referrerPolicy:r,crossOrigin:s}){const n=V(),u=f.useRef(null),t=n?(u.current||(u.current=new window.Image),u.current):null,[l,i]=f.useState(()=>I(t,e));return A(()=>{i(I(t,e))},[t,e]),A(()=>{const c=a=>()=>{i(a)};if(!t)return;const v=c("loaded"),p=c("error");return t.addEventListener("load",v),t.addEventListener("error",p),r&&(t.referrerPolicy=r),typeof s=="string"&&(t.crossOrigin=s),()=>{t.removeEventListener("load",v),t.removeEventListener("error",p)}},[t,s,r]),l}var O=b,W=j,z=N;export{b as A,z as F,W as I,O as R,j as a,N as b};
