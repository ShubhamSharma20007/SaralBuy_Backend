import{d as p,j as e,r as u,a as y,B as f}from"./index-nRz7PDd4.js";import{r as N}from"./react-CfDFl5mw.js";import{d}from"./dateFormatter-CQy79qr9.js";import{M as g}from"./move-right-QR2Ye0kV.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14 16-4-4 4-4",key:"ojs7w8"}]],b=p("circle-chevron-left",v);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m10 8 4 4-4 4",key:"1wy4r4"}]],C=p("circle-chevron-right",k),A=({product:s,target:t})=>(s=s.product||s||{},e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        @media (max-width: 640px) {
          .keen-slider__slide {
          min-width: 100% !important;
        }
        }
      `}),e.jsx("div",{className:`w-full  border-r-2 border-gray-200 p-2 b shadow-sm  ${t==="requirements"?"cursor-pointer":""}`,children:e.jsxs("div",{className:"flex-col sm:flex-row flex gap-6 sm:pl-12 items-center",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:e.jsx("img",{src:s.image||"/no-image.webp",alt:s.name,className:"w-full h-full object-contain rounded-md mix-blend-darken"})}),e.jsxs("div",{className:"flex flex-col justify-between text-sm",children:[e.jsx("div",{children:e.jsx("span",{className:"cc",children:s?.categoryId?.categoryName})}),e.jsx("p",{className:" capitalize line-clamp-1 font-semibold",children:s.title}),e.jsxs("p",{children:["Delivery By: ",e.jsx("strong",{children:d(s?.paymentAndDelivery?.ex_deliveryDate)||"N/A"})]}),e.jsxs("p",{children:["QTY: ",e.jsx("strong",{children:s.quantity||"N/A"})]})]})]})})]}));function j({disabled:s,left:t,onClick:a}){const i=s?" opacity-50 cursor-not-allowed":" cursor-pointer hover:text-gray-700";return e.jsx("div",{className:`absolute top-1/2 transform -translate-y-1/2 z-10 ${t?"left-2":"right-2"}`,children:t?e.jsx(b,{onClick:s?void 0:a,className:`h-7 w-7 text-gray-600 bg-white rounded-full shadow-md ${i}`}):e.jsx(C,{onClick:s?void 0:a,className:`h-7 w-7 text-gray-600 bg-white rounded-full shadow-md ${i}`})})}const R=({product:s,target:t})=>{const[a,i]=u.useState(0),[o,n]=u.useState(!1),l=y(),m=t=="drafts"?[s,...s?.subProducts||[]]:[s,...s?.product?.subProducts||[]],[w,c]=N.useKeenSlider({initial:0,slides:{perView:2,spacing:12},slideChanged(r){i(r.track.details.rel)},created(){n(!0)}}),x=r=>{t==="drafts"||t==="carts"||l("/account/requirements/"+r._id,{state:{product:r,sellerId:s.seller?._id,products:h}})},h=s?.subProducts?.length>0?[s,...s.subProducts]:[s];return e.jsxs("div",{className:"flex justify-between items-center gap-4 w-full",children:[e.jsxs("div",{ref:w,className:"keen-slider w-full max-w-4xl relative",children:[m.map(r=>e.jsx("div",{className:"keen-slider__slide ",onClick:()=>x(r),children:e.jsx(A,{product:r,target:t})},r._id)),o&&c.current&&(h.length>2||m?.length>2)&&e.jsxs(e.Fragment,{children:[e.jsx(j,{left:!0,onClick:r=>{r.stopPropagation(),c.current?.prev()},disabled:a===0}),e.jsx(j,{onClick:r=>{r.stopPropagation(),c.current?.next()},disabled:a===c.current.track.details?.slides.length-1})]})]}),e.jsxs("div",{className:"flex-1 flex justify-between items-end flex-col space-y-10",children:[t==="carts"?e.jsxs("p",{className:"text-xs text-gray-600 font-medium whitespace-nowrap",children:["Dated: ",d(s?.addedAt)||"N/A"]}):e.jsx("p",{className:"text-xs text-gray-600 font-medium whitespace-nowrap",children:t==="drafts"?e.jsxs("p",{children:["  Last Edited: ",d(s?.updatedAt||s?.product?.updatedAt)||"N/A"]}):e.jsxs("p",{children:[" Dated: ",d(s?.createdAt||s?.product?.createdAt)||"N/A"]})}),e.jsx("div",{children:t==="requirements"?e.jsxs(f,{onClick:()=>x(s),size:"default",className:"cursor-pointer text-xs  bc",children:["Total Quotes: ",e.jsx("span",{className:"font-bold",children:s?.product?.totalBidCount||0}),e.jsx(g,{className:"w-5 h-5"})]}):t==="drafts"?e.jsx(e.Fragment,{}):t==="carts"?e.jsx(f,{size:"default",className:"cursor-pointer text-xs bc ",onClick:()=>{l(`/product-overview?productId=${s?.product?._id}`)},children:"Place Quote"}):null})]})]})},q=(s,t,a="createdAt")=>s.sort((i,o)=>{const n=new Date(i[a]).getTime(),l=new Date(o[a]).getTime();return t?n-l:l-n});export{R,q as s};
