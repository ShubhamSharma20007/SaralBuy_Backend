import{N as de,j as e,D as ue,a as me,b as he,c as pe,O as ge,I as y,B as J,h as ce,t as p,n as xe,Q as fe,r as l,k as le,p as je,R as ye,i as be,A as ve,s as we,v as Ne,w as Ce,U as Se,y as ie,x as Fe,V as De,W as Ae,X as Pe,Y as Te,Z as Ie,_ as Be,$ as Ve,a0 as ke,a1 as qe,a2 as Me,a3 as $e,o as _e,q as Ee,a4 as Oe,a5 as Re,S as A,d as P,e as T,f as I,g as r,a6 as Le,L as ne,a7 as ze,a8 as Ue,a9 as Ge,aa as oe,ab as Ze,T as Qe,M as He}from"./index-C-4pG0nN.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Je=de("plus",Ye),Ke=({open:x,setOpen:n,createProductFn:B,bidDuration:V,setBidDuration:_,loading:b,buttonType:E})=>{async function O(f){f.preventDefault();const N=Number(f.currentTarget?.bidDuration.value);if(N<=0){p.error("Quote duration must be greater than 0");return}_(N),V&&(await B(!1),n(!1))}function k(f){const N=f.currentTarget.value.replace(/\D/g,"");_(Number(N))}function F(f){console.log(f.key),f.key.toLowerCase()==="."&&f.preventDefault()}return e.jsx(ue,{open:x,onOpenChange:n,children:e.jsxs(me,{style:{maxWidth:"470px"},children:[e.jsxs(he,{children:[e.jsx(pe,{className:"text-black text-3xl font-extrabold",children:"Place Requirement"}),e.jsxs(ge,{className:"text-sm text-gray-600",children:["How Long Should Your Requirement Remain Active?  ",e.jsx("small",{className:"italic",children:"(in Days)"})]})]}),e.jsx("form",{className:"py-2 max-w-md inline-block mb-0",onSubmit:f=>O(f),children:e.jsxs("div",{className:"space-y-4 w-full",children:[e.jsx(y,{type:"number",name:"bidDuration",placeholder:"Ex. 15",onKeyDown:F,value:V||void 0,className:"w-full py-5 rounded-md border border-gray-300",onChange:k}),e.jsx(J,{disabled:V&&V<=0||b,type:"submit",className:"w-full rounded-sm py-5  text-white font-bold cursor-pointer",children:b&&!E?e.jsx(ce,{className:"w-5 h-5 animate-spin"}):"Place Requirement "})]})})]})})},We={automobile:"automobileFormImage.png",fashion:"fashionFormImage.png",electronics:"electronicsFormImage.png",home:"homeapplianceFormImage.png",sports:"sportsFormImage.png",furniture:"furnitureFormImage.png",health:"healthFormImage.png",beauty:"beautyFormImage.png",service:"servicesFormImage.png",industrial:"constructionFormImage.png",others:"otherImage.webp"};function Xe(x){switch(x){case"automobile":return Me;case"fashion":return qe;case"electronics":return ke;case"home":return Ve;case"sports":return Be;case"furniture":return Ie;case"beauty":return Te;case"industrial":return Pe;case"service":return Ae;case"others":return De;default:return[]}}const es=({formIndex:x,currentCategoryName:n,catByIdData:B,subCategroies:V,subCategoriesData:_,onFormDataChange:b,onRemoveForm:E,showRemoveButton:O=!1,resetForm:k=!1,subCategoryId:F})=>{const[f,N]=l.useState(void 0),[S,q]=l.useState([0,2]),[m,G]=l.useState(null),[R,K]=l.useState(null),[D,Z]=l.useState(""),[te,W]=l.useState([]),L=l.useRef(null),M=l.useRef(null),{watch:v,setValue:i,register:j,getValues:U,reset:Q}=_e({resolver:Ee(Oe),defaultValues:{title:"",quantity:"",subCategoryId:"",minimumBudget:"",productType:"",oldProductValue:{min:"",max:""},productCondition:"",image:"",document:"",description:"",paymentAndDelivery:{ex_deliveryDate:void 0,paymentMode:"",gstNumber:"",organizationName:"",organizationAddress:""},draft:!1,gst_requirement:"",brand:"",additionalDeliveryAndPackage:"",gender:"",typeOfAccessories:"",fuelType:"",model:"",color:"",transmission:"",conditionOfProduct:"",toolType:"",rateAService:"",brandName:"",typeOfVehicle:"",typeOfProduct:""}}),X=v("gst_requirement"),z=v("productType"),ae=v("paymentAndDelivery.paymentMode"),re=v("gender"),H=v("fuelType"),a=v("color"),d=v("transmission"),u=v("conditionOfProduct"),c=v("toolType");v("rateAService");const[C,ee]=l.useState("");l.useEffect(()=>{const s=v(()=>{const t={...U(),image:m,document:R,formIndex:x};b(x,t)});return()=>s.unsubscribe()},[v,m,R,x,b,U]),l.useEffect(()=>{i("oldProductValue.min",S[0].toString()),i("oldProductValue.max",S[1].toString())},[S,i]),l.useEffect(()=>{i("brand",D)},[D,i]),l.useEffect(()=>{k&&(Q(),N(void 0),q([0,2]),G(null),K(null),Z(""),W([]),L.current&&(L.current.value=""),M.current&&(M.current.value=""))},[k,Q]);function $(){if(F){const s=B?.subCategories.find(o=>o._id===F)?.name||"N/A",t=_.find(o=>o.category.replace(/\s+/g,"").toLowerCase()===s.replace(/\s+/g,"").toLowerCase())?.brands;ee(s),t?.length>0&&W(t),i("subCategoryId",F)}}return l.useEffect(()=>{$()},[F,B,_]),l.useEffect(()=>{D!=="other"&&i("brandName","")},[D]),e.jsxs("div",{className:" relative",children:[O&&e.jsx(J,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 z-10 cursor-pointer",onClick:()=>E(x),children:e.jsx(Re,{className:"h-4 w-4"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"md:col-span-1 lg:col-span-1 bg-transparent  border-0 p-6 xs:grid xs:grid-cols-2 gap-6 space-y-4",children:[e.jsxs("div",{className:"col-span-1 align-center sm:block flex flex-col justify-center",children:[e.jsx("h2",{className:"text-[15px] font-semibold mb-2 text-center",children:"Tell us about your need"}),e.jsx("p",{className:"text-[13px] text-muted-foreground text-center",children:"Please help us tailor the experience by filling out the form below. If this isn't the category you meant to choose, you can go back and select another one."})]}),e.jsx("div",{className:"col-span-1 w-full",children:e.jsx("img",{src:"/categoryFormImages/"+We[n],alt:"",loading:"lazy",className:"m-auto w-full"})})]}),e.jsxs("div",{className:"col-span-2 md:col-span-2 flex flex-col gap-3",children:[e.jsx("div",{className:" rounded-[5px] p-6  bg-gray-200/50",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[e.jsx(y,{type:"text",placeholder:"Title* (Give a short title for your post - specify your required product in 3–4 words)",className:"bg-white col-span-1 md:col-span-3",...j("title")}),e.jsxs(A,{defaultValue:F,disabled:!0,children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Category*"})}),e.jsx(I,{children:V.map(s=>e.jsx(r,{value:s._id,children:s.name},s._id))})]}),n!=="service"&&n!=="others"&&e.jsx(Le,{setValue:Z,value:D,className:"w-full",dropdownTitle:"Brands*",renderItems:te}),n==="others"&&e.jsx(y,{type:"text",placeholder:"Brand Name...",value:D,onChange:s=>{Z(s.target.value)},className:"bg-white"}),n!=="others"&&D==="others"&&e.jsx(y,{type:"text",placeholder:"Specific Brand Name...",...j("brandName"),className:"bg-white"}),e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:"absolute top-1/2 left-2 text-sm  text-orange-600 font-semibold -translate-y-1/2",children:"₹"}),e.jsx(y,{type:"text",placeholder:"Enter a Budget range",...j("minimumBudget"),className:"bg-white  pl-5"})]}),n!=="service"&&e.jsx(y,{type:"string",placeholder:"Quantity*",...j("quantity"),className:"bg-white col-span-1"}),n==="fashion"&&e.jsxs(A,{value:re,onValueChange:s=>i("gender",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Gender"})}),e.jsxs(I,{children:[e.jsx(r,{value:"male",children:"Male"}),e.jsx(r,{value:"female",children:"Female"}),e.jsx(r,{value:"kids",children:"Kids"})]})]}),n==="automobile"&&!["accessories","bicycles"].includes(C.toLowerCase())&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{value:H,onValueChange:s=>i("fuelType",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Fuel Type"})}),e.jsxs(I,{children:[e.jsx(r,{value:"petrol",children:"Petrol"}),e.jsx(r,{value:"electric",children:"Diesel"}),e.jsx(r,{value:"cng",children:"CNG"}),e.jsx(r,{value:"hybrid",children:"Hybrid"}),e.jsx(r,{value:"electric",children:"Electric"}),e.jsx(r,{value:"electric",children:"LPG"})]})]}),!C.toLowerCase().includes("accessories")&&e.jsx(y,{type:"text",placeholder:"Model",...j("model"),className:"bg-white col-span-1"}),!C.toLowerCase().includes("accessories")&&e.jsx(y,{type:"text",placeholder:"Color",value:a,onChange:s=>{i("color",s.target.value)}}),!["scooters","accessories","bicycles"].includes(C.toLowerCase())&&e.jsxs(A,{value:d,onValueChange:s=>i("transmission",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Transmission"})}),e.jsxs(I,{children:[e.jsx(r,{value:"automatic",children:"Automatic"}),e.jsx(r,{value:"manual",children:"Manual"})]})]})]}),C.toLowerCase()==="mobile"&&e.jsx(y,{type:"text",placeholder:"Model",...j("model"),className:"bg-white col-span-1"}),(n==="furniture"||n==="sports"||n==="automobile"||n==="home"||n==="electronics")&&n!=="service"&&n!=="others"&&e.jsxs(e.Fragment,{children:[(z==="new_product"||z==="")&&e.jsxs(A,{value:z,onValueChange:s=>i("productType",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Product Condition"})}),e.jsxs(I,{children:[e.jsx(r,{value:"new_product",children:"New Product"}),e.jsx(r,{value:"old_product",children:"Old Product"})]})]}),z==="old_product"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full max-w-md border-[1.5px] border-gray-200 rounded-lg bg-white p-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs(ne,{className:"font-medium text-gray-500 ",children:["Old Product ",e.jsx("sup",{className:"hidden sm:block",children:"(in Years)"})]}),e.jsx(ze,{className:"w-4 h-4 text-gray-400 cursor-pointer",onClick:()=>i("productType","new_product")})]}),e.jsx(Ue.Range,{values:S,step:.1,min:0,max:20,onChange:s=>q(s),renderTrack:({props:s,children:t})=>e.jsxs("div",{...s,className:"h-1 w-full bg-gray-300 rounded relative",children:[e.jsx("div",{className:"absolute h-1 bg-orange-600 rounded",style:{left:`${S[0]/20*100}%`,width:`${(S[1]-S[0])/20*100}%`}}),t]}),renderThumb:({props:s})=>e.jsx("div",{...s,className:"w-3 h-3 bg-orange-500 rounded-full flex items-center justify-center shadow"})}),e.jsxs("div",{className:"flex justify-between items-center mt-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"text-gray-600 text-sm hidden sm:block",children:"Min."}),e.jsx("div",{className:"flex items-center gap-1 border rounded px-2 py-1",children:S[0].toString().padStart(2,"0")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center gap-1 border rounded px-2 py-1",children:S[1]}),e.jsx(ne,{className:"text-gray-600 text-sm hidden sm:block",children:"Max."})]})]})]})})]}),n==="others"&&e.jsx(e.Fragment,{children:e.jsx(y,{type:"text",placeholder:"Product Condition",...j("productCondition"),className:"bg-white"})}),z==="new_product"&&n==="furniture"&&e.jsxs(A,{value:u,onValueChange:s=>i("conditionOfProduct",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Product Condition"})}),e.jsxs(I,{children:[e.jsx(r,{value:"new",children:"New"}),e.jsx(r,{value:"like_new",children:"Like New"}),e.jsx(r,{value:"excellent",children:"Excellent"}),e.jsx(r,{value:"good",children:"Good"}),e.jsx(r,{value:"fair",children:"Fair"}),e.jsx(r,{value:"poor",children:"Poor"}),e.jsx(r,{value:"for_parts_or_repair",children:"For Parts Or Repair"}),e.jsx(r,{value:"refurbished",children:"Refurbished"}),e.jsx(r,{value:"vintage",children:"Vintage (Used)"}),e.jsx(r,{value:"antique",children:"Antique"})]})]}),C==="Commercial and other Vehicle"&&n==="automobile"&&e.jsx(y,{type:"text",placeholder:"Type of Vehicle",...j("typeOfVehicle"),className:"bg-white"}),e.jsx(y,{type:"text",placeholder:n==="service"?"Service Type":"Product Type",...j("typeOfProduct"),className:"bg-white"}),n==="industrial"&&e.jsxs(A,{value:c,onValueChange:s=>i("toolType",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Tool Type"})}),e.jsxs(I,{children:[e.jsx(r,{value:"industrial_tool",children:"Industrial Tool"}),e.jsx(r,{value:"machinery_tool",children:"Machinery Type"})]})]})]})}),e.jsxs("div",{className:"rounded-[5px] p-6  bg-gray-200/50",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold  text-gray-700",children:"Other Details"}),e.jsx("sup",{className:"italic text-gray-500",children:"Product Image and document are not mandatory."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{onClick:()=>L?.current?.click(),className:"border-2 border-dashed relative border-gray-300 rounded-lg flex bg-transparent flex-col items-center justify-center p-6 cursor-pointer h-32",children:[e.jsx(Ge,{className:"h-6 w-6 mb-2 text-gray-500"}),e.jsx("span",{className:"text-sm text-muted-foreground font-semibold",children:"Upload Image"}),e.jsx("p",{className:"text-xs text-gray-500 ",children:"to upload your image (max 2 MB)"}),e.jsx("input",{type:"file",accept:"image/*",hidden:!0,ref:L,onChange:s=>{if(s.target.files?.[0]){const t=s.target.files[0];if(t.size>2*1024*1024){p.info("Image size should not exceed 2MB");return}G(t);const o={...U(),image:t,document:R,formIndex:x};b(x,o)}}}),m&&e.jsx("p",{className:"text-xs mt-2 text-green-600",children:m?.name}),m&&e.jsx("div",{className:"absolute h-16 w-16 right-2 top-2 rounded-lg shadow  select-none z-10",children:e.jsx("img",{onMouseEnter:s=>oe(s.target),onMouseLeave:s=>oe(s.target),src:URL.createObjectURL(m),className:"h-full w-full bg-white object-contain imageSizer",alt:""})})]}),e.jsxs("div",{onClick:()=>M.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg flex bg-transparent flex-col items-center justify-center p-6 cursor-pointer",children:[e.jsx(Ze,{className:"h-6 w-6 mb-2 text-gray-500"}),e.jsxs("span",{className:"text-sm text-muted-foreground text-center ",children:[e.jsx("span",{className:"font-semibold",children:"Browse From Device"})," ",e.jsx("br",{}),e.jsx("span",{className:"text-xs",children:"to upload your doc/pdf (max 5 MB)"})]}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx",hidden:!0,ref:M,onChange:s=>{if(s.target.files?.[0]){const t=s.target.files[0];if(t.size===0){p.error("Invalid Doc");return}if(t.size>5*1024*1024){p.info("Document size should not exceed 5MB");return}K(t);const o={...U(),image:m,document:t,formIndex:x};b(x,o)}}}),R&&e.jsx("p",{className:"text-xs mt-2 text-green-600",children:R.name})]})]}),e.jsx(Qe,{placeholder:"Description*",...j("description"),className:"bg-white min-h-24"})]}),e.jsxs("div",{className:"rounded-[5px] p-6  bg-gray-200/50",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Payment & Delivery Details"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[e.jsx(He,{date:f,title:"Delivery Date",disabledBeforeDate:new Date(new Date().getTime()),setDate:s=>{s&&(N(s),i("paymentAndDelivery.ex_deliveryDate",s))}}),e.jsxs(A,{value:ae,onValueChange:s=>i("paymentAndDelivery.paymentMode",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"Payment Mode"})}),e.jsxs(I,{children:[e.jsx(r,{value:"cash",children:"Cash"}),e.jsx(r,{value:"card",children:"Banking or Online mode"}),e.jsx(r,{value:"upi",children:"Any"})]})]}),e.jsxs(A,{value:X,onValueChange:s=>i("gst_requirement",s),children:[e.jsx(P,{className:"w-full bg-white",children:e.jsx(T,{placeholder:"GST Input Required"})}),e.jsxs(I,{children:[e.jsx(r,{value:"yes",children:"Yes"}),e.jsx(r,{value:"no",children:"No"})]})]}),X==="yes"&&e.jsxs(e.Fragment,{children:[e.jsx(y,{type:"text",placeholder:"GST Number (15 characters - Format: 22AAAAA0000A1Z5)",...j("paymentAndDelivery.gstNumber"),className:"bg-white",maxLength:15,onChange:s=>{const t=s.target.value.toUpperCase();i("paymentAndDelivery.gstNumber",t,{shouldValidate:!0})}}),e.jsx(y,{type:"text",placeholder:"Enity Name",...j("paymentAndDelivery.organizationName"),className:"bg-white"}),e.jsx(y,{type:"text",placeholder:"Entity Address",...j("paymentAndDelivery.organizationAddress"),className:"bg-white"})]})]})]})]})]})]})},ts=()=>{const x=xe(),{categoryId:n,subCategoryId:B}=fe(),[V,_]=l.useState([]),[b,E]=l.useState([0]),[O,k]=l.useState({}),{fn:F,data:f,loading:N}=le(je.addProduct),{fn:S,data:q}=le(ye.getCategoriesById),[m,G]=l.useState(null);let{user:R}=be();const[K,D]=l.useState(!1),[Z,te]=l.useState([]),[W,L]=l.useState(!1),[M,v]=l.useState(null),[i,j]=l.useState(void 0),[U,Q]=l.useState(!1);l.useEffect(()=>{(async()=>await S(n))()},[n]),l.useEffect(()=>{if(q){try{const a=decodeURIComponent(q?.categoryName).toLowerCase();te(Xe(a)),G(a||null)}catch(a){console.error("Error decoding category name:",a),G(null)}_(q?.subCategories||[])}},[q]);const X=(a,d)=>{const u=/^\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z\d]{1}[Z]{1}[A-Z\d]{1}$/;for(let c=0;c<a.length;c++)if(a[c].title){if(!a[c].subCategoryId&&!d)return p.error(`Category is required ${a.length>1?`in product form(s) ${c+1}`:""}`),!1;if(!a[c].brand&&m?.toLowerCase()!=="service"&&!d)return p.error(`Brand is required ${a.length>1?`in product form(s) ${c+1}`:""}`),!1;if(!a[c].quantity&&m?.toLowerCase()!=="service"&&!d)return p.error(`Quantity is required ${a.length>1?`in product form(s) ${c+1}`:""}`),!1;if(!a[c].description&&!d)return p.error(`Description is required ${a.length>1?`in product form(s) ${c+1}`:""}`),!1;if(a[c].gst_requirement==="yes"&&a[c].paymentAndDelivery?.gstNumber&&!d){const C=a[c].paymentAndDelivery.gstNumber.trim();if(!u.test(C))return p.error(`Invalid GST Number format in form ${a.length>1?`${c+1}`:""}. Must be 15 characters (Format: 22AAAAA0000A1Z5)`),!1}}else return p.error(`Title is required ${a.length>1?`in product form(s) ${c+1}`:""}`),!1;return!0},z=()=>{if(Object.values(O).length>4){p.info("You can submit a maximum of 5 product forms at a time.");return}const d=b.length>0?Math.max(...b)+1:0;E(u=>[...u,d])},ae=a=>{b.length>1&&(E(d=>d.filter(u=>u!==a)),k(d=>{const u={...d};return delete u[a],u}))},re=(a,d)=>{k(u=>({...u,[a]:d}))},H=async(a,d)=>{if(v(!!a),!R){D(!0);return}const u=Object.values(O),c=X(u,a);if(!c)return;if(c&&d){Q(!0);return}const C=[],ee=[];if(u.forEach((t,o)=>{(!t.title||!t.description||!t.subCategoryId)&&C.push(o+1)}),C.length>0&&!a){let t=`Please fill required fields:
`;C.forEach(({formNumber:o,missingFields:h})=>{t+=`Form ${o}: ${h.join(", ")}
`}),ee.length>0&&(t+=`
Image is required for form(s): ${ee.join(", ")}`),p.error(t);return}const $=$e(m),s=u.length>1;try{if(s){const t=new FormData,o=[];for(const[h,g]of u.entries()){if(g.quantity){const w=g.quantity.toString().trim();if(!/^\d+$/.test(w)||parseInt(w)<1){p.error(`Invalid Quantity in Form ${h+1}`);return}}if(g.minimumBudget){const w=g.minimumBudget.toString().trim();if(!/^\d+$/.test(w)||parseInt(w)<1){p.error(`Invalid Budget range in Form ${h+1}`);return}}const se={};$.forEach(w=>{if(w==="image"||w==="document"||(w==="oldProductValue"||w==="productCondition")&&g.productType!=="old_product")return;const Y=g[w];Y!=null?typeof Y=="object"?se[w]=JSON.stringify(Y):se[w]=Y:se[w]=""}),o.push(se),g.image&&$.includes("image")&&t.append("image",g.image),g.document&&$.includes("document")&&t.append("document",g.document)}t.append("products",JSON.stringify(o)),t.append("draft",a?"true":"false"),t.append("bidActiveDuration",i?i.toString():"0"),await F(n,u[0].subCategoryId||B,t,!0)}else{const t=u[0];console.log(t);const o=new FormData;if(t.quantity){const h=t.quantity.toString().trim();if(!/^\d+$/.test(h)||parseInt(h)<1){p.error("Invalid Quantity");return}}if(t.minimumBudget){const h=t.minimumBudget.toString().trim();if(!/^\d+$/.test(h)||parseInt(h)<1){p.error("Invalid Budget range");return}}$.forEach(h=>{if(h==="image"||h==="document"||(h==="oldProductValue"||h==="productCondition")&&t.productType!=="old_product")return;const g=t[h];g!=null?typeof g=="object"?o.append(h,JSON.stringify(g)):o.append(h,g):o.append(h,"")}),t.image&&$.includes("image")&&o.append("image",t.image),t.document&&$.includes("document")&&o.append("document",t.document),o.append("draft",a?"true":"false"),o.append("bidActiveDuration",i?i.toString():"0"),await F(n,t.subCategoryId||B,o,!1)}p.success(`${u.length} product form(s) ${a?"saved as draft":"submitted"} successfully!`),L(!0),setTimeout(()=>{E([0]),k({}),L(!1)},100)}catch(t){console.error("Error submitting forms:",t),p.error(`Failed to ${a?"save draft":"submit forms"}. Please try again.`)}};return l.useEffect(()=>{f&&(M||x("/"),window.location.reload())},[f]),e.jsxs(e.Fragment,{children:[e.jsx(ve,{setOpen:D,open:K}),e.jsx(Ke,{buttonType:M,loading:N,open:U,setOpen:Q,setBidDuration:j,bidDuration:i,createProductFn:H}),e.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4",children:[e.jsxs("div",{className:"flex flex-row sm:justify-between justify-end items-center gap-3 mb-6",children:[e.jsx(we,{className:"sm:block hidden",children:e.jsx(Ne,{children:e.jsxs(Ce,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>x(-1),children:[e.jsx(Se,{className:"h-4 w-4"}),e.jsx(ie,{className:"capitalize font-semibold text-gray-500",children:"Selected Product"}),e.jsx(Fe,{}),e.jsx(ie,{className:"capitalize font-semibold text-orange-600",children:m==="beauty"?"Personal Care":m==="electronics"?"Mobile, Tablet and Wearables":m==="sports"?"Sports & Stationery":m==="home"?"Home Appliances":m==="industrial"?"Industrial & Construction Material":m==="furniture"?"furniture and decor":m})]})})}),e.jsxs(J,{className:"bg-orange-700 cursor-pointer w-32 text-[12px] hover:bg-orange-600 text-white  flex items-center gap-1 underline",onClick:z,children:[e.jsx(Je,{className:"h-3 w-3"}),"Add Product"]})]}),e.jsx("div",{className:"space-y-6",children:b.map((a,d)=>e.jsxs(e.Fragment,{children:[e.jsx(es,{formIndex:a,currentCategoryName:m,catByIdData:q,subCategroies:V,subCategoriesData:Z,onFormDataChange:re,onRemoveForm:ae,showRemoveButton:d>0,resetForm:W,subCategoryId:B},a),b.length>-1&&d<b.length-1&&e.jsx("div",{className:"bg-gray-400 w-full h-[2px] my-5"})]}))}),e.jsxs("div",{className:"flex justify-end gap-3 my-5",children:[e.jsx(J,{type:"button",variant:"outline",disabled:N,className:"w-32 cursor-pointer border-[#2C3E50] ",onClick:()=>H(!0),children:N&&M?e.jsx(ce,{className:"w-5 h-5 animate-spin"}):" Save as Draft"}),e.jsx(J,{type:"button",disabled:N,className:"text-white w-32 cursor-pointer bc   border-primary-btn border-2",onClick:()=>H(!1,!0),children:`Submit ${Object.keys(O).length>1?"All":""}`})]})]})]})};export{ts as default};
