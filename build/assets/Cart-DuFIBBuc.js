import{r as a,u,t as b,j as t,B as C,X as N}from"./index-nRz7PDd4.js";import{S as v}from"./CustomSkeletons-D9FdukaD.js";import{T as S}from"./TooltipComp-eQaeTgpE.js";import{R as F,s as R}from"./sortByDate-HaxCvm8q.js";import{c as p}from"./cart.service-Srtsotdm.js";import{A as _}from"./AlertPopup-DJCRSOvE.js";import{L as A}from"./list-filter-CR24f6YA.js";import"./index-CppV2h3m.js";import"./react-CfDFl5mw.js";import"./dateFormatter-CQy79qr9.js";import"./move-right-QR2Ye0kV.js";import"./alert-dialog-DvHQnZ2k.js";const G=()=>{const[k,f]=a.useState(!1),[i,l]=a.useState({productId:"",cartId:""}),{fn:x,data:o,loading:g,setData:d}=u(p.getCart),{fn:h,data:n}=u(p.removeCart),[j,m]=a.useState(!1);a.useEffect(()=>{x()},[]);const I={title:"Warning",message:"This action cannot be undone. This Cart will permanently delete your account."};function w(s,r){d(e=>e?.cartItems?{...e,cartItems:e.cartItems.filter(c=>c.product._id!==r)}:e),h(s,r)}const y=()=>{f(s=>{const r=!s;return d(e=>{if(!e?.cartItems)return e;const c=R(e?.cartItems,r,"addedAt");return{...e,cartItems:c}}),r})};return a.useEffect(()=>{n&&(b.success(n?.message||"Cart item removed successfully"),l({cartId:"",productId:""}))},[n]),t.jsxs(t.Fragment,{children:[t.jsx(_,{loading:!1,setOpen:m,open:j,message:I,deleteFunction:()=>{w(i.cartId,i.productId)}}),t.jsx("div",{className:"w-full max-w-7xl mx-auto  space-y-6 ",children:t.jsxs("div",{className:"grid space-y-5 w-full",children:[t.jsxs("div",{className:"flex justify-between items-center font-semibold w-full mb-3",children:[t.jsx("p",{className:"font-bold text-xl whitespace-nowrap   tracking-tight text-gray-600",children:"Your Cart"}),t.jsxs(C,{onClick:y,variant:"ghost",size:"icon",className:" w-24 flex gap-2 items-center justify-center text-sm font-medium  text-gray-700 bg-transparent border-1 hover:bg-transparent cursor-pointer border-gray-700",children:["Date",t.jsx(A,{className:"w-5 h-5"})]})]}),g?new Array(3).fill(0).map(s=>t.jsx(v,{})):o&&o.cartItems?.length>0?o?.cartItems?.map((s,r)=>t.jsxs("div",{className:"border-2 border-gray-300 p-4 rounded-md w-full mb-2 relative",children:[t.jsx("div",{className:"absolute top-1 left-1 z-10 bg-orange-50 text-orange-400 rounded-sm  p-1 cursor-pointer",onClick:()=>{m(!0),l({cartId:o?._id,productId:s?.product?._id})},children:t.jsx(S,{hoverChildren:t.jsx(N,{className:"h-4 w-4"}),contentChildren:t.jsx("p",{children:"Remove Cart"})})}),t.jsx(F,{product:s,target:"carts"},r)]},s?.product?._id)):t.jsxs("div",{className:"w-full h-[300px]  flex flex-col items-center justify-center",children:[t.jsx("img",{src:"/empty-cart.webp",width:"10%"}),t.jsx("p",{className:"text-gray-500 text-sm",children:"No Cart's Found"})]})]})})]})};export{G as default};
