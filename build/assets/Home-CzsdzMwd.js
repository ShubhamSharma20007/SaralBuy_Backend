import{i as k,u as g,r as o,a as u,j as e,B as C,b as B,C as w,c as z,p as b,S as v}from"./index-nRz7PDd4.js";import{m as I}from"./mergeName-Dsr0uQzc.js";import{d as m}from"./dateFormatter-CQy79qr9.js";import{M as Z}from"./merge-CFNrZtfV.js";/* empty css                        */import{r as M}from"./react-CfDFl5mw.js";import{M as S}from"./move-right-QR2Ye0kV.js";import{b as $}from"./bid.service-0Dku6ybv.js";class D{getBanners(){return k.get("/banner/get-banners").then(t=>t.data?.data||t.data)}}const A=new D,_=()=>{const{fn:s,data:t}=g(A.getBanners);let[a,r]=o.useState([]);const[x,d]=o.useState(0),i=u();o.useEffect(()=>{s()},[]),o.useEffect(()=>{if(t){const l=t.map(c=>({image:c.imageUrl,linkUrl:c.linkUrl,text:c.title,buttonLabel:"Click Here ",textClass:"banner-text-1",buttonClass:"banner-button-1",containerClass:"banner-content-1"}));r(l)}},[t]),o.useEffect(()=>{let l=null;return console.log(a.length),a.length>0&&(l=setInterval(()=>{d(c=>(c+1)%a.length)},12*1e3)),()=>clearInterval(l)},[t,a]);const h=l=>{new URL(l,window.location.origin).pathname,i(l)};return e.jsx("div",{className:"banner-slider mt-5 sm:mt-10",children:a.map((l,c)=>e.jsxs("div",{children:[e.jsx("img",{src:l.image,alt:`Banner ${c+1}`,className:`banner-image ${c===x?"active":"inactive"}`}),c===x&&e.jsxs("div",{className:l.containerClass,children:[l.header&&e.jsx("div",{className:l.headerClass,children:l.header}),e.jsx("div",{className:l.textClass,children:l.text}),l.buttonLabel&&e.jsx("button",{className:l.buttonClass,onClick:()=>h(l?.linkUrl),children:l.buttonLabel})]})]},c))})},L=({item:s})=>{const t=u();return e.jsxs("div",{className:"p-5 bg-white rounded-[5px] shadow-lg ",children:[e.jsxs("div",{className:"flex justify-between items-center  mb-4 ",children:[e.jsxs("span",{className:"border-2 border-gray-600 rounded-full text-gray-700 inline-block p-1  text-center px-4 text-sm font-medium capitalize",children:[" ",s?.productId?.categoryId?.categoryName]}),s.productId?.isMergeQuote&&e.jsx(Z,{className:"w-9 h-9  bg-orange-100 text-orange-500 rounded-full p-2"})]}),e.jsxs("div",{className:"flex flex-row justify-start items-center gap-x-6",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:e.jsx("img",{src:s?.productId?.image||"/no-image.webp",alt:s?.productId?.title||"No Image",className:"w-full h-full object-contain rounded-lg"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"font-bold text-md text-gray-700 capitalize ",children:s?.productId?.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})})," ",I(s?.buyerId)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})})," ",s?.currentLocation||"N/A"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})})," ",s?.productId?.quantity," units"]})]})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between mt-3",children:[e.jsxs("p",{className:"text-sm text-gray-600 font-semibold ",children:["Dated: ",m(s.createdAt)]}),e.jsx(C,{onClick:()=>{t(`/product-overview?productId=${s?.productId?._id}`)},variant:"ghost",size:"lg",className:"border  shadow-orange-700 border-orange-700 text-orange-700 hover:bg-orange-700 hover:text-white cursor-pointer",children:s.productId?.isMergeQuote?"Connect with Buyer":" Place Quotation"})]})]})},q=()=>{const{fn:s,data:t}=g(B.getRecentRequiremnts);return o.useEffect(()=>{s()},[]),e.jsxs("div",{className:" px-8 sm:px-16 relative bg-no-repeat z-0 bg-cover  py-10  min-h-82 bg-[url('./grid.png')]",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200/80 -z-[1]"}),e.jsx("div",{className:"flex justify-between items-center max-w-7xl mx-auto px-4",children:e.jsx("p",{className:"font-bold text-3xl  text-orange-700 border-l-5 border-orange-700 pl-3 tracking-tight",children:"Recent Requirements"})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 mt-5 max-w-7xl mx-auto sm:px-4",children:t&&t.map(a=>e.jsx(L,{item:a}))})]})},f=({title:s,color:t,target:a,data:r})=>{const[x]=M.useKeenSlider({mode:"free-snap",slides:{perView:1.2,spacing:15}}),d=u();return e.jsxs(w,{className:`shadow-none  p-5 ${a==="bids"?`bg-${t}-100`:`bg-${t}-50`}`,children:[e.jsxs("div",{className:"flex justify-between items-center ",children:[e.jsx("p",{className:`font-bold text-2xl border-l-4 border-${t}-700 pl-3 tracking-tight text-${t}-700`,children:s}),e.jsx("button",{disabled:!r.length,className:`text-md text-${t}-700 hover:underline  font-semibold  ${r.length?"cursor-pointer":"cursor-not-allowed"}`,onClick:()=>{d(a==="bids"?"/account/bid":"/account/requirements")},children:"See All"})]}),e.jsx("div",{ref:x,className:"keen-slider  ",children:r.length>0?r.map(i=>e.jsx("div",{className:"keen-slider__slide ",children:e.jsxs(w,{className:"flex flex-row items-center justify-around gap-4 p-4   border border-gray-200",children:[e.jsx("div",{className:"h-24 w-24 flex-shrink-0 hidden sm:block",children:e.jsx("img",{src:i.image,alt:i.title,className:"h-full w-full object-contain rounded-lg"})}),e.jsx("div",{className:"flex flex-col justify-between",children:e.jsxs("div",{className:"grid space-y-1 w-full",children:[e.jsxs("div",{children:[a==="bids"&&e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Dated: ",i.date]}),e.jsx("p",{className:` ${a==="bids"?"text-orange-700 capitalize font-semibold":"cc"}`,children:i.category})]}),e.jsx("p",{className:"font-medium capitalize whitespace-normal line-clamp-1",children:i.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Deliver by:"," ",e.jsx("span",{className:"font-bold",children:i.deliveryDate})]})]})}),e.jsxs("div",{className:"flex flex-col h-full justify-between whitespace-nowrap",style:{height:"-webkit-fill-available"},children:[a!=="drafts"?e.jsxs("p",{className:"text-sm cursor-pointer border rounded px-2 py-1 bg-gray-50",onClick:()=>{d("/bid-overview/"+i?._id)},children:["Total Quote:"," ",e.jsx("span",{className:"font-semibold text-orange-600",children:i.totalBids})]}):e.jsxs("p",{className:"text-sm text-orange-500 mb-1",children:["Dated: ",i.date]}),e.jsxs("div",{className:"flex gap-1 items-center justify-end",children:[e.jsxs("a",{href:"javascript:void(0)",onClick:()=>{d(a==="bids"?"/product-overview?productId="+i?.productId:"/update-draft/"+i._id)},className:"text-sm text-gray-600 font-semibold hover:underline  text-right underline",children:["View ",a==="drafts"&&"Bids"]}),e.jsx(S,{className:"h-4 w-4"})]})]})]})},i._id)):e.jsxs("div",{className:"h-full w-full flex-col flex justify-center items-center",children:[e.jsx("img",{src:"/empty-cart.webp",width:"20%"}),e.jsxs("p",{className:"text-gray-500 text-sm capitalize",children:["No ",a==="bids"?"bids":"drafts"," Registered"]})]})})]})},E=["ring-gray-600","ring-gray-500","ring-yellow-500","ring-red-700","ring-green-700"],Q=({categories:s})=>{const t=u(),a=r=>{t(`/product-listing?title=%27%27&key=enter&category=${encodeURIComponent(r)}`)};return e.jsxs("div",{className:"px-4  bg-no-repeat z-0 bg-cover  py-10  min-h-82  max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex  items-center mb-4 ",children:e.jsx("p",{className:"font-bold text-3xl border-l-4 whitespace-nowrap border-gray-600 pl-3 tracking-tight text-gray-600",children:"Trending Categories"})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 gap-5 px-5 sm:px-10  mt-10  ",children:s&&s.map((r,x)=>e.jsxs("div",{onClick:()=>a(r.category._id),className:"flex justify-center items-center flex-col cursor-pointer",children:[e.jsx("div",{className:`ring-4 ${E[x]} rounded-full  h-32 w-32 overflow-hidden mx-auto `,children:e.jsx("img",{src:r.category.image,className:"w-full h-full object-contain"})}),e.jsx("p",{className:"text-gray-600 text-center mt-3 capitalize",children:r.category.categoryName})]},x))})]})},U=({bg:s,item:t})=>{const a=u();return e.jsxs("div",{className:" px-8 sm:px-16 relative bg-no-repeat z-0 bg-cover  py-10  min-h-82 ",children:[e.jsx("div",{className:`absolute inset-0 bg-${s}-200/80 -z-[1]`}),e.jsx("div",{className:"flex justify-between items-center max-w-7xl mx-auto px-4",children:e.jsx("p",{className:`font-bold text-3xl  text-${s||"orange"}-700 border-l-5 border-${s||"orange"}-700 pl-3 tracking-tight capitalize`,children:t?.categoryName})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 mt-5 max-w-7xl mx-auto sm:px-4",children:t?.products?.map(r=>e.jsxs("div",{className:`p-5 ${s?"bg-white":"bg-orange-50"} rounded-[5px] shadow-none outline-none border-none`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600 font-semibold ",children:["Dated: ",m(r?.createdAt)]}),e.jsx(C,{onClick:()=>{a(`/product-overview?productId=${r?._id}`)},variant:"ghost",size:"lg",className:"border  shadow-orange-700 border-orange-700 text-orange-700 hover:bg-orange-700 hover:text-white cursor-pointer",children:"Place Quotation"})]}),e.jsxs("div",{className:"flex  justify-between mt-5 items-center flex-row-reverse",children:[e.jsx("div",{className:"w-24 h-24 flex-shrink-0",children:e.jsx("img",{src:r?.image||"/no-image.webp",alt:"No Image",className:"w-full h-full object-contain rounded-lg"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"font-bold text-md text-gray-700  capitalize",children:r?.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})})," ",e.jsx("span",{className:"capitalize",children:I(r?.userInfo)})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),"  ",e.jsx("span",{className:"capitalize",children:r?.userInfo?.currentLocation||r?.userInfo?.address})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),r?.quantity," units  ",e.jsx("span",{className:"capitalize",children:r?.userInfo?.quantity})]})]})]}),e.jsx("div",{className:"flex flex-row items-center justify-between mt-3"})]}))})]})},y=()=>e.jsxs("div",{className:"flex flex-col space-y-5",children:[e.jsxs("div",{className:"space-y-2 flex justify-between items",children:[e.jsx(v,{className:"h-5 w-1/4"}),e.jsx(v,{className:"h-5 w-1/4"})]}),e.jsx(v,{className:"h-full w-full rounded-xl"})]}),O=()=>{const{data:s}=z(),{fn:t,data:a,loading:r}=g($.getThreeLatestBids),{fn:x,data:d}=g(b.getHomeCards),{fn:i,data:h}=g(b.getTrendingCategory),[l,c]=o.useState([]),[N,R]=o.useState([]);return console.log(h),o.useEffect(()=>{t(),x(),i()},[]),o.useEffect(()=>{if(a){const j=a?.bids.map(n=>({_id:n._id,productId:n?.productId?._id,date:m(n.createdAt),category:n.productId?.categoryId?.categoryName||"N/A",title:n.productId?.title||"Untitled",deliveryDate:m(n.earliestDeliveryDate),totalBids:n?.productId?.totalBidCount||0,image:n.productId?.image||"/no-image.webp"}));c(j);const p=a?.drafts.map(n=>({_id:n._id,date:m(n.createdAt),category:n?.categoryId?.categoryName||"N/A",title:n.title,deliveryDate:m(n.earliestDeliveryDate),totalBids:n?.totalBidCount||0,image:n?.image||"/no-image.webp"}));R(p)}},[a]),e.jsxs("main",{className:"relative min-h-screen ",children:[e.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4",children:[e.jsx(_,{}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 mt-10 gap-3",children:[r?e.jsx(y,{}):l.length>0?e.jsx(f,{title:"Your Quote",target:"bids",color:"gray",data:l},"bid"):e.jsx(f,{title:"Your Quote",target:"bids",color:"gray",data:[]}),r?e.jsx(y,{}):N.length>0?e.jsx(f,{title:"Your Drafts",target:"drafts",color:"orange",data:N},"draft"):e.jsx(f,{title:"Your Drafts",target:"draft",color:"orange",data:[]})]})]}),e.jsx("div",{className:"mt-10",children:e.jsx(q,{})}),e.jsxs("div",{className:"mt-10 relative mx-auto px-4 w-full pt-10",children:[e.jsx(Q,{categories:h}),e.jsx("img",{src:"All In One Market Place that Fits You.png",className:"absolute -top-5 mt-7 left-0 w-full"})]}),e.jsx("div",{}),d&&d.map((j,p)=>e.jsx(U,{bg:p===0?"gray":"",item:j},p+1))]})};export{O as default};
