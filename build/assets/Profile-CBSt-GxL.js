import{d as x,g,a as h,u as v,e as j,r as o,t as n,j as e,f as b,N as y,O as N}from"./index-nRz7PDd4.js";import{B as w,a as P,b as k,c as u,d as B}from"./breadcrumb-gFg8juDx.js";import{A,a as C,b as _}from"./avatar-CCyh8JC8.js";import{f as z}from"./fallBackName-CJO8Y_N6.js";import{H as D}from"./house-CnFQLAg5.js";import"./index-3zwKqybI.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],R=x("camera",I),S=r=>{switch(r){case"profile":return"/account";case"your_biding":return"/account/bid";case"requirements":return"/account/requirements";case"your_deal":return"/account/deal";case"notifications":return"/account/notification";case"cart":return"/account/cart";default:return"/account"}},q=[{title:"Profile",value:"profile"},{title:"Cart",value:"cart"},{title:"Quotes Submitted",value:"your_biding"},{title:"Requirements (Posted / Draft)",value:"requirements"},{title:"Closed Deals",value:"your_deal"},{title:"Notifications",value:"notifications"}],G=()=>{const{user:r,setUser:d}=g(),m=h(),{fn:f,data:i,loading:l}=v(j.updateProfile),t=o.useRef(null),p=async()=>{const a=new FormData;if(t.current&&t.current.files){const s=t.current.files[0],c=2*1024*1024;if(!["image/jpeg","image/png","image/webp"].includes(s.type)){n.error("Only JPG, PNG or WEBP images are allowed"),t.current.value="";return}if(s.size>c){n.error("Image size should be less than 2MB"),t.current.value="";return}a.append("image",s)}await f(a)};return o.useEffect(()=>{i&&(d(i),n.success("Profile updated successfully"))},[i]),e.jsxs("div",{className:"w-full max-w-7xl mx-auto py-6 space-y-6 px-4 overflow-auto",children:[e.jsx(w,{className:"hidden sm:block",children:e.jsx(P,{children:e.jsxs(k,{className:"flex items-center gap-2 cursor-pointer",onClick:()=>m("/"),children:[e.jsx(u,{className:"capitalize font-regular text-gray-500",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx(B,{}),e.jsx(u,{className:"capitalize font-regular text-orange-600 font-semibold",children:"Account"})]})})}),e.jsx("div",{className:"grid gap-8",children:e.jsxs("div",{className:"grid gap-8 md:grid-cols-[230px_1fr]",children:[e.jsxs("div",{className:"hidden md:block space-y-2 bg-gray-200/50 p-4 rounded-md  sticky top-4  self-start",children:[e.jsx("div",{className:"flex justify-center items-center mt-2 mb-5 relative",children:e.jsxs("div",{className:"relative",children:[e.jsxs(A,{className:"w-28 h-28 border-gray-600 border-3 flex ",children:[l?e.jsx("div",{className:"h-full w-full  flex items-center justify-center object-contain",children:e.jsx(b,{className:"w-5 h-5 text-orange-500"})}):e.jsx(C,{src:r?.profileImage||"/avatar.jpg",className:"w-full h-full object-contain rounded-full"}),!l&&r?.profileImage&&e.jsx(_,{children:z(`${r?.firstName} ${r?.lastName}`)})]}),e.jsx("input",{type:"file",name:"image",hidden:!0,id:"",ref:t,onChange:p}),e.jsx("button",{disabled:l,onClick:a=>{a.preventDefault(),t&&t.current?.click()},className:"absolute bottom-4 cursor-pointer right-0 bg-gray-500 p-1 rounded-full shadow-md hover:bg-gray-400",children:e.jsx(R,{className:"w-4 h-4 text-white"})})]})}),e.jsx("a",{onClick:a=>{a.preventDefault(),t&&t.current?.click()},href:"javascript:void(0)",className:"mb-5 block text-md underline text-center font-semibold text-gray-700",children:"Update Photo"}),e.jsx("div",{className:"grid gap-1 text-gray-600",children:q.map(a=>{const s=S(a.value);return e.jsx(y,{to:s,end:a.value==="profile",className:({isActive:c})=>`text-left px-3 py-2 cursor-pointer text-sm rounded-md hover:bg-gray-200/90 ${c?"bg-gray-200/90 text-gray-600 font-semibold":""}`,children:a.title},a.title)})})]}),e.jsx("div",{className:"min-h-[300px]",children:e.jsx("section",{className:"",children:e.jsx(N,{})})})]})})]})};export{G as default};
