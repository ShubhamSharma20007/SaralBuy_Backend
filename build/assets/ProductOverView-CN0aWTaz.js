import{j as e,D as ve,a as we,b as Pe,c as Be,S as v,d as w,e as P,f as B,g as l,I as g,B as h,h as M,u as Ce,i as _e,k as x,p as De,l as T,m as Se,r as i,n as Te,o as Ae,q as Ie,t as m,C as Oe,A as Fe,s as Ve,v as Re,w as ze,H as Me,x as te,y as le,z as R,E as ne,P as ie,F as ke,G as Ze,L as d,J as N,K as A,M as Le,T as Qe}from"./index-DIGWnl-X.js";import{c as ce}from"./currencyConvertor-IA5kyJ7b.js";const Ee=({open:o,setOpen:C,setValue:j,value:n,handleCreteBid:k,createBidLoading:r,setBusinessDets:b,businessDets:u})=>e.jsx(e.Fragment,{children:e.jsx(ve,{open:o,onOpenChange:C,children:e.jsx(we,{className:"w-4xs",children:e.jsxs("form",{onSubmit:c=>{c.preventDefault(),k()},className:"p-2 max-w-md inline-block space-y-5 ",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Pe,{className:" text-black text-3xl font-extrabold ",children:"Seller Verification"}),e.jsx(Be,{className:" text-sm text-gray-600",children:" Placing Quote as an Individual or Business Owner?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(v,{onValueChange:c=>j?.(c),value:n,children:[e.jsx(w,{id:"userType",className:"w-full py-5 rounded-md border border-gray-300",children:e.jsx(P,{placeholder:"Select"})}),e.jsxs(B,{children:[e.jsx(l,{value:"individual",className:"dropdown-hover py-2",children:"Individual"}),e.jsx(l,{value:"business",className:"dropdown-hover py-2",children:"Business Owner"})]})]}),n==="business"&&e.jsxs("div",{className:"grid space-y-2 mt-4",children:[e.jsx(g,{value:u.company_name,onChange:c=>{b({...u,company_name:c.target.value})},className:"w-full py-5 rounded-md border border-gray-300",name:"company_name",placeholder:"Company Name"}),e.jsx(g,{value:u.company_reg_num,onChange:c=>{b({...u,company_reg_num:c.target.value})},className:"w-full py-5 rounded-md border border-gray-300",name:"company_reg_num",placeholder:"Company Reg. Number"}),e.jsx(g,{value:u.gst_num,onChange:c=>{b({...u,gst_num:c.target.value})},className:"w-full py-5 rounded-md border border-gray-300",name:"gst_num",placeholder:"GSTIN Number"})]}),e.jsx(h,{disabled:!n||r,type:"submit",className:"w-full rounded-sm py-5  text-white font-bold cursor-pointer",children:r?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Place Quote"})]})]})})})});function z(o){return o?.brand==="others"&&o.hasOwnProperty("brandName")?o.brandName:o?.brand}const Ye=()=>{const[o]=Ce(),C=o.get("productId"),j=o.get("bidId"),n=_e(),{fn:k,data:r,setData:b,loading:u}=x(De.getProductById),{fn:c,data:s,loading:de}=x(T.bidOverViewbyId),{fn:oe,data:U,loading:G}=x(T.updateUserBidDets),{fn:me,data:Z,loading:Y}=x(T.getbidByProductId),{fn:ue,data:H,loading:J}=x(T.createBid),{fn:pe}=x(T.createRequirement),{fn:xe,data:f,loading:I}=x(Se.addToCart),[he,K]=i.useState(!1),[ge,O]=i.useState(!1),[_,L]=i.useState(""),[Q,je]=i.useState({company_name:"",company_reg_num:"",gst_num:""}),W=Te(),{handleSubmit:be,formState:{errors:E},register:D,reset:F,control:y,getValues:S,setValue:qe}=Ae({resolver:Ie(Ze),defaultValues:{firstName:"",lastName:"",budgetQuation:"",earliestDeliveryDate:void 0,sellerType:"",priceBasis:"",taxes:"",location:"",freightTerms:"",paymentTerms:"",buyerNote:""}}),$=async a=>{await xe(a)};i.useEffect(()=>{f&&(f&&(f?.message).match(/already/)!==null?m.warning(f.message):m.success(f.message))},[f]),i.useEffect(()=>{C?k(C):j?c(j):m.error("Invalid request")},[C,j]),i.useEffect(()=>{if(r&&Array.isArray(r)){const a=r[0],t=a?.subProducts?.length>0?a.subProducts:[a];b({...a,products:t}),console.log(r)}},[r]);async function fe(){if(!r||r?.mainProduct?.userId?._id===n?.user?._id)return;if(S(),_==="business"&&!Q.company_name.trim()){m.error("company name is required");return}const a=r?.mainProduct.userId?._id,t=r?.mainProduct._id;n?.user._id,Number(S().budgetQuation);let p={...S(),status:"active",businessType:_,..._==="business"&&{businessDets:Q}};_||(m.error("business is required !"),O(!0));try{await ue(a,t,p)}catch(q){console.log(q),m.error("Failed to place Quote")}}async function ye(a){const t=n?.user,p=S();if(!t?._id)return localStorage.setItem("preLoginBidForm",JSON.stringify(p)),K(!0);if(!r&&!s)return console.log("product && Quote not found in frontend");r?O(!0):await oe(j,a)}i.useEffect(()=>{U&&(m.success("Quote updated successfully"),L(""))},[U]),i.useEffect(()=>{if(H){r?.mainProduct?b(V=>{const Ne={...V.mainProduct,totalBidCount:V.mainProduct.totalBidCount+1},ae=V.subProducts?.map(re=>({...re,totalBidCount:(re.totalBidCount||0)+1}));return{...V,mainProduct:Ne,subProducts:ae,products:ae}}):console.log("main product is missing to update bid count");const a=r?.mainProduct.userId?._id,t=r?.mainProduct._id,p=n?.user._id,q=Number(S().budgetQuation)||0;pe({productId:t,sellerId:p,buyerId:a,budgetAmount:q}),m.success("Quote created successfully"),O(!1),L(""),F({firstName:n.user.firstName,lastName:n.user.lastName,budgetQuation:"",earliestDeliveryDate:void 0,taxes:"",buyerNote:"",freightTerms:"",location:"",paymentTerms:"",priceBasis:"",sellerType:""})}},[H]),i.useEffect(()=>{if(n?.user){const a=localStorage.getItem("preLoginBidForm");if(a){const t=JSON.parse(a);F({...t,firstName:s?s?.seller?.firstName:n.user.firstName,lastName:s?s?.seller?.lastName:n.user.lastName}),localStorage.removeItem("preLoginBidForm")}else F({firstName:s?s?.seller?.firstName:n.user.firstName,lastName:s?s?.seller?.lastName:n.user.lastName,budgetQuation:s?s?.budgetQuation:"",earliestDeliveryDate:s?s?.earliestDeliveryDate:void 0,sellerType:s?s?.sellerType:"",priceBasis:s?s?.priceBasis:"",taxes:s?s?.taxes:"",location:s?s?.location:"",freightTerms:s?s?.freightTerms:"",paymentTerms:s?s?.paymentTerms:"",buyerNote:s?s?.buyerNote:""})}},[n,F,s]),i.useEffect(()=>{},[]),i.useEffect(()=>{for(let a=0;a<Object.entries(E).length;a++){m.error(Object.entries(E)[a][1]?.message);break}},[E]);const X=a=>{const t=document.createElement("a");t.href=a,t.download=a.split("/").pop()||"document",t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},ee=async a=>{await me(a)};i.useEffect(()=>{if(Z){const{_id:a}=Z;W("/bid-overview/"+a)}},[Z]);const se=()=>e.jsxs("form",{className:"lg:col-span-5 bg-gray-200/80 rounded-lg p-6 space-y-4",onSubmit:be(ye),children:[e.jsx("h3",{className:"font-semibold text-orange-600",children:"Seller Quotation Details"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n?.user?._id&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"firstName",className:"mb-2 text-sm",children:"First Name"}),e.jsx(g,{disabled:!0,type:"text",placeholder:"First Name",id:"firstName",...D("firstName"),className:"bg-white  select-none"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"lastName",className:"mb-2 text-sm",children:"Last Name"}),e.jsx(g,{disabled:!0,type:"text",placeholder:"Last Name",id:"lastName",...D("lastName"),className:"bg-white  select-none"})]})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Seller Type"}),e.jsx(N,{name:"sellerType",control:y,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Seller Type"})}),e.jsx(B,{children:e.jsxs(A,{children:[e.jsx(l,{value:"manufacturer",children:"Manufacturer"}),e.jsx(l,{value:"trader_wholesaler",children:"Trader / Wholesaler"}),e.jsx(l,{value:"distributor",children:"Distributor"}),e.jsx(l,{value:"service_provider",children:"Service Provider"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Quoted Price(â‚¹)"}),e.jsx(g,{type:"number",placeholder:"Quoted Price",className:"bg-white",...D("budgetQuation")})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Price Basis"}),e.jsx(N,{name:"priceBasis",control:y,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Price Basis"})}),e.jsx(B,{children:e.jsxs(A,{children:[e.jsx(l,{value:"per_unit",children:"Per Unit"}),e.jsx(l,{value:"per_kg",children:"Per Kg"}),e.jsx(l,{value:"per_lot",children:"Per Lot"}),e.jsx(l,{value:"per_piece",children:"Per Piece"}),e.jsx(l,{value:"per_service",children:"Per Service"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Taxes"}),e.jsx(N,{name:"taxes",control:y,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Taxes"})}),e.jsx(B,{children:e.jsxs(A,{children:[e.jsx(l,{value:"inclusive_gst",children:"Inclusive of GST"}),e.jsx(l,{value:"exclusive_gst",children:"Exclusive of GST"}),e.jsx(l,{value:"gst_rate",children:"GST Rate (%)"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Location"}),e.jsx(g,{type:"text",placeholder:"Location",className:"bg-white",...D("location")})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Delivery Timeline"}),e.jsx(N,{control:y,name:"earliestDeliveryDate",render:({field:a})=>e.jsx(Le,{disabledBeforeDate:new Date(new Date().getTime()),date:a.value,title:"DD-MM-YYYY",className:"w-full",setDate:t=>a.onChange(t)})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Freight Terms"}),e.jsx(N,{name:"freightTerms",control:y,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Freight Terms"})}),e.jsx(B,{children:e.jsxs(A,{children:[e.jsx(l,{value:"ex_works",children:"Ex-Works"}),e.jsx(l,{value:"fob",children:"FOB"}),e.jsx(l,{value:"delivered",children:"Delivered (DAP / DDP)"})]})})]})})]}),e.jsxs("div",{children:[e.jsx(d,{className:"mb-2 text-sm",children:"Payment Terms"}),e.jsx(N,{name:"paymentTerms",control:y,render:({field:a})=>e.jsxs(v,{onValueChange:a.onChange,value:a.value,children:[e.jsx(w,{className:"w-full bg-white",children:e.jsx(P,{placeholder:"Select Payment Terms"})}),e.jsx(B,{children:e.jsxs(A,{children:[e.jsx(l,{value:"advance",children:"Advance"}),e.jsx(l,{value:"partial_advance",children:"Partial Advance"}),e.jsx(l,{value:"on_delivery",children:"On Delivery"}),e.jsx(l,{value:"credit",children:"Credit (X days)"})]})})]})})]}),e.jsxs("div",{className:"w-full col-span-2",children:[e.jsx(d,{htmlFor:"ab",className:"mb-2 text-sm",children:"Buyer Note"}),e.jsx(Qe,{...D("buyerNote"),placeholder:"Short message (hard limit: 300 characters)",className:"bg-white w-full"})]})]}),s?e.jsx(h,{type:"submit",disabled:G,variant:"ghost",className:"w-32 float-end border shadow-orange-500 border-orange-500 bg-orange-600  transition-all ease-in-out duration-300 hover:bg-orange-500 text-white hover:text-white cursor-pointer",children:G?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Update Bid"}):e.jsx(h,{type:"submit",disabled:r?.mainProduct?.userId?._id===n?.user?._id||J,variant:"ghost",className:"w-32 float-end border text-xs bg-orange-700  transition-all ease-in-out duration-300 hover:bg-orange-600 text-white hover:text-white cursor-pointer",children:"Place Quote"}),e.jsx("div",{})]});return e.jsx(e.Fragment,{children:de||u?e.jsx("div",{className:"max-w-7xl mx-auto p-4 ",children:e.jsx(Oe,{})}):e.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 min-h-screen",children:[e.jsx(Fe,{setOpen:K,open:he}),e.jsx(Ee,{businessDets:Q,setBusinessDets:je,setOpen:O,open:ge,setValue:L,value:_,handleCreteBid:fe,createBidLoading:J}),e.jsx(Ve,{className:"hidden sm:block",children:e.jsx(Re,{children:e.jsxs(ze,{className:"flex items-center gap-2 cursor-pointer ",onClick:()=>W(-1),children:[e.jsx(Me,{className:"h-4 w-4"}),e.jsx(te,{}),e.jsx(le,{className:"capitalize font-regular text-gray-500",children:"Product"}),e.jsx(te,{}),e.jsx(le,{className:"capitalize font-regular text-gray-500",children:s?s?.product?.title:r?.mainProduct?.title})]})})}),r?.subProducts?.length===0||s?e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-4 bg-gray-100 flex justify-center items-center rounded-lg p-4 max-h-64 ",children:e.jsx("img",{src:(s?s?.product?.image:r?.mainProduct?.image)||"/no-image.webp",alt:"Product",className:"object-contain h-full w-full mix-blend-darken"})}),e.jsxs("div",{className:"lg:col-span-8 bg-transparent rounded-lg p-4 space-y-4",children:[e.jsxs("h2",{className:"text-sm font-medium mb-2",children:["Date : ",R(s?s?.product?.createdAt:r?.mainProduct?.createdAt)]}),e.jsx("h2",{className:"text-xl font-bold capitalize",children:s?s?.product?.title:r?.mainProduct?.title}),e.jsx("p",{className:"text-sm text-gray-600",children:r?.mainProduct?.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 pr-3 border-r-2 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})}),e.jsx("span",{className:"capitalize",children:ne(s?s?.buyer:r?.mainProduct?.userId)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1  pr-3 border-r-2 py-1 min-w-32   max-w-[50%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),e.jsx("span",{className:" line-clamp-2",children:s?s?.buyer?.address:r?.mainProduct?.userId?.address||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),e.jsxs("span",{className:"capitalize",children:[s?s?.product?.quantity:r?.mainProduct?.quantity||"N/A"," units"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-5 ",children:[e.jsxs(h,{disabled:Y||(s?s.product?.totalBidCount:r?.mainProduct?.totalBidCount)===0,onClick:()=>ee(s?s?.product?._id:r?.mainProduct?._id),variant:"outline",className:"min-w-32 text-sm border-gray-400 bg-transparent border-[2px] flex items-center gap-2 hover:bg-transparent  cursor-pointer",children:[e.jsx("img",{src:"/icons/Layer_1.png",className:"w-4 h-4 "}),"Total Quote :",e.jsx("span",{className:"font-semibold",children:s?s.product?.totalBidCount:r?.mainProduct?.totalBidCount||0})]}),!s&&e.jsx(h,{className:"min-w-32 border-[2px] border-orange-500 text-orange-500 hover:bg-orange-600 hover:text-white transition-all ease-in-out duration-300 cursor-pointer",variant:"outline",onClick:()=>$(r?.mainProduct?._id),disabled:I||r?.mainProduct?.userId?._id===n?.user?._id,children:I?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Add to Cart"})]})]})]}),e.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-12 gap-6 ",children:[e.jsxs("div",{className:"lg:col-span-7  rounded-lg p-6 space-y-3 ",children:[e.jsx("h3",{className:"font-semibold text-orange-600 text-xl",children:"Requirement Specifications"}),e.jsxs("div",{className:"text-sm space-y-2 text-gray-600 ",children:[e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Product Condition:"})," ",(s?s?.product?.subCategory?.name:r?.mainProduct?.categoryId?.categoryName)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Brand:"})," ",z(s?s?.product:r?.mainProduct)||"N/A"]}),r?.mainProduct?.categoryId?.categoryName==="industrial"&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Construction Tool Type:"})," Industrial Tool"]}),(s?.product?.minimumBudget||r?.mainProduct?.minimumBudget)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Budget:"})," ",ce(s?s?.product?.minimumBudget:r?.mainProduct?.minimumBudget)]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Required Delivery Date:"})," ",R(s?s?.product?.paymentAndDelivery?.ex_deliveryDate:r?.mainProduct?.paymentAndDelivery?.ex_deliveryDate)||"N/A"]}),(s?s?.product?.color:r?.mainProduct?.color)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Color:"})," ",(s?s?.product?.color:r?.mainProduct?.color)||"N/A"]}),(s?s?.product?.typeOfVehicle:r?.mainProduct?.typeOfVehicle)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Vehicle:"})," ",(s?s?.product?.typeOfVehicle:r?.mainProduct?.typeOfVehicle)||"N/A"]}),(s?s?.product?.typeOfProduct:r?.mainProduct?.typeOfProduct)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Product:"})," ",(s?s?.product?.typeOfProduct:r?.mainProduct?.typeOfProduct)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Payment Mode:"})," ",(s?s?.product?.paymentAndDelivery?.paymentMode:r?.mainProduct?.paymentAndDelivery?.paymentMode)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2  ",children:[e.jsx("span",{className:"font-semibold",children:"Supporting Documents:"}),r?.mainProduct?.document||s?.product?.document?e.jsxs("p",{onClick:()=>X(r?.mainProduct?.document||s?.product?.document),className:"flex gap-1 items-center hover:underline cursor-pointer",children:[e.jsx(ie,{className:"w-4 h-4 text-orange-600"}),"Download Document"]}):"N/A"]})]})]}),e.jsx(se,{})]})]}):r?.subProducts&&r?.subProducts.map((a,t)=>{const p=t===r?.subProducts?.length-1;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-4 bg-gray-100 flex justify-center items-center rounded-lg p-4 max-h-64 ",children:e.jsx("img",{src:(s?s?.product?.image:a?.image)||"/no-image.webp",alt:"Product",className:"object-contain h-full w-full mix-blend-darken"})}),e.jsxs("div",{className:"lg:col-span-8 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-sm font-medium mb-2",children:["Date : ",R(s?s?.product?.createdAt:a?.createdAt)]}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(ke,{className:"w-5 h-5 text-orange-500"}),e.jsxs("p",{className:"text-gray-500 text-sm font-semibold",children:["Product (",t+1,")"]})]})]}),e.jsx("h2",{className:"text-xl font-bold capitalize",children:s?s?.product?.title:a?.title}),e.jsx("p",{className:"text-sm text-gray-600",children:a?.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 pr-3 border-r-2 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"})}),e.jsx("span",{className:"capitalize",children:ne(s?s?.buyer:a?.userId)||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1  pr-3 border-r-2 py-1 min-w-32   max-w-[50%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),e.jsx("span",{className:" line-clamp-2",children:s?s?.buyer?.address:a?.userId?.address||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-1 py-1 min-w-32 max-w-[25%]",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-4 text-gray-500",children:e.jsx("path",{fillRule:"evenodd",d:"M2.625 6.75a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0A.75.75 0 0 1 8.25 6h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75ZM2.625 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0ZM7.5 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12A.75.75 0 0 1 7.5 12Zm-4.875 5.25a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875 0a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5h-12a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}),e.jsxs("span",{className:"capitalize",children:[s?s?.product?.quantity:a?.quantity||"N/A"," units"]})]})]}),t===0&&e.jsxs("div",{className:"flex items-center gap-4 mt-5 ",children:[e.jsxs(h,{disabled:Y||(s?s.product?.totalBidCount:a?.totalBidCount)===0,onClick:()=>ee(s?s?.product?._id:a?._id),variant:"outline",className:"min-w-32 text-sm border-gray-400 bg-transparent border-[2px] flex items-center gap-2 hover:bg-transparent  cursor-pointer ",children:[e.jsx("img",{src:"/icons/Layer_1.png",className:"w-4 h-4 "}),"Total Quote :",e.jsx("span",{className:"font-semibold",children:s?s.product?.totalBidCount:a?.totalBidCount||0})]}),!s&&e.jsx(h,{className:"min-w-32 border-[2px] border-orange-500 text-orange-500 hover:bg-orange-600 hover:text-white transition-all ease-in-out duration-300 cursor-pointer",variant:"outline",onClick:()=>$(a?._id),disabled:I||a?.userId?._id===n?.user?._id,children:I?e.jsx(M,{className:"w-5 h-5 animate-spin"}):"Add to Cart"})]})]})]}),e.jsxs("div",{className:`mt-5 grid grid-cols-1 lg:${p?"grid-cols-12":"grid-cols-1"} gap-6`,children:[e.jsxs("div",{className:`grid lg:${p?"col-span-7":"col-span-1"}  rounded-lg  space-y-3 `,children:[e.jsx("h3",{className:"font-semibold text-orange-600 text-xl",children:"Requirement Specifications"}),e.jsxs("div",{className:"text-sm space-y-2 text-gray-600 ",children:[e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Product Condition:"})," ",(s?s?.product?.subCategory?.name:a?.categoryId?.categoryName)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize ",children:[e.jsx("span",{className:"font-semibold",children:"Brand:"})," ",z(s?s?.product:a)||"N/A"]}),a?.categoryId?.categoryName==="industrial"&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Construction Tool Type:"})," Industrial Tool"]}),(s?.product?.minimumBudget||a?.minimumBudget)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Budget:"})," ",ce(s?s?.product?.minimumBudget:a?.minimumBudget)]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 ",children:[e.jsx("span",{className:"font-semibold",children:"Required Delivery Date:"})," ",R(s?s?.product?.paymentAndDelivery?.ex_deliveryDate:a?.paymentAndDelivery?.ex_deliveryDate)||"N/A"]}),(s?s?.product?.color:a?.color)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Color:"})," ",(s?s?.product?.color:a?.color)||"N/A"]}),(s?s?.product?.typeOfVehicle:a?.typeOfVehicle)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Vehicle:"})," ",(s?s?.product?.typeOfVehicle:a?.typeOfVehicle)||"N/A"]}),(s?s?.product?.typeOfProduct:a?.typeOfProduct)&&e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Type of Product:"})," ",(s?s?.product?.typeOfProduct:a?.typeOfProduct)||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2 capitalize",children:[e.jsx("span",{className:"font-semibold",children:"Payment Mode:"})," ",s?s?.product?.paymentAndDelivery?.paymentMode:a?.paymentAndDelivery?.paymentMode||"N/A"]}),e.jsxs("p",{className:"flex items-center justify-between py-2 border-b-2  ",children:[e.jsx("span",{className:"font-semibold",children:"Supporting Documents:"}),a?.document||s?.product?.document?e.jsxs("span",{onClick:()=>{X(a?.document||s?.product?.document)},className:"flex gap-1 items-center hover:underline cursor-pointer",children:[e.jsx(ie,{className:"w-4 h-4 text-orange-600"})," ",a?.document||s?.product?.document]}):"N/A"]})]})]}),t===r?.products?.length-1&&e.jsx(se,{})]}),r?.subProducts.length>-1&&t<r?.subProducts.length-1&&e.jsx("div",{className:"bg-gray-400 w-full h-[2px] my-5"})]})})]})})};export{Ye as default};
